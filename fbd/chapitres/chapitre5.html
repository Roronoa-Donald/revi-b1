<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapitre 5 ‚Äî Normalisation | FBD B1</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../assets/css/style.css">
    <style>:root{--accent:#ea580c;--accent-light:#f97316;--accent-dark:#c2410c;--accent-glow:rgba(234,88,12,0.18)}.dark{--accent:#f97316;--accent-light:#fb923c;--accent-dark:#ea580c;--accent-glow:rgba(249,115,22,0.18)}</style>
</head>
<body>
<a href="#main-content" class="skip-link">Aller au contenu</a>
<div class="reading-progress" id="reading-progress"></div>
<nav class="glass-nav"><div class="nav-inner">
    <a href="../index.html" class="nav-logo"><i class="fas fa-database"></i> AutoBot</a>
    <ul class="nav-links">
        <li><a href="../index.html">Accueil</a></li><li><a href="formules.html">Formules</a></li>
        <li><a href="cartes.html">Cartes</a></li><li><a href="simulateur-examen.html">Simulateur</a></li>
        <li><a href="../exercices/exercices.html">Exercices</a></li>
    </ul>
    <div class="nav-actions">
        <button id="theme-toggle" aria-label="Mode sombre"><i class="fa-solid fa-moon"></i></button>
        <button class="hamburger-btn" id="hamburger-btn" aria-label="Menu"><i class="fa-solid fa-bars"></i></button>
    </div>
</div></nav>
<div class="mobile-nav-overlay" id="mobile-nav-overlay"></div>
<div class="mobile-nav-panel" id="mobile-nav">
    <div class="mobile-nav-header"><span>üîß AutoBot</span><button class="mobile-nav-close" id="mobile-nav-close"><i class="fas fa-times"></i></button></div>
    <a href="../index.html"><i class="fas fa-home"></i> Accueil</a>
    <a href="chapitre1.html"><i class="fas fa-book-open"></i> Ch.1</a><a href="chapitre2.html"><i class="fas fa-book-open"></i> Ch.2</a>
    <a href="chapitre3.html"><i class="fas fa-book-open"></i> Ch.3</a><a href="chapitre4.html"><i class="fas fa-book-open"></i> Ch.4</a>
    <a href="chapitre5.html" class="active"><i class="fas fa-book-open"></i> Ch.5</a><a href="chapitre6.html"><i class="fas fa-book-open"></i> Ch.6</a>
    <a href="formules.html"><i class="fas fa-scroll"></i> Formules</a><a href="cartes.html"><i class="fas fa-layer-group"></i> Cartes</a>
    <a href="simulateur-examen.html"><i class="fas fa-graduation-cap"></i> Simulateur</a>
    <a href="../exercices/exercices.html"><i class="fas fa-dumbbell"></i> Exercices</a>
</div>

<section class="hero-section" id="main-content">
    <div class="hero-badge"><i class="fas fa-broom"></i> Chapitre 5</div>
    <h1>üßπ La <span class="highlight">Normalisation</span></h1>
    <p>1NF ‚Üí 2NF ‚Üí 3NF ‚Üí BCNF ‚Äî √©liminer la redondance et les anomalies.</p>
</section>

<main class="content-wrapper">

    <!-- ‚îÄ‚îÄ‚îÄ 1. Pourquoi normaliser ? ‚îÄ‚îÄ‚îÄ -->
    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-question-circle"></i> Pourquoi normaliser ?</h2>

        <div class="info-box">
            <strong>üîß Analogie AutoBot :</strong> Imagine un <strong>placard en bazar</strong> o√π les chaussettes sont m√©lang√©es avec les chemises. Normaliser = <strong>ranger le placard</strong> : chaque tiroir a un r√¥le pr√©cis, rien n'est en double, et on retrouve tout facilement.
        </div>

        <p>Sans normalisation, une base de donn√©es souffre de 3 types d'<strong>anomalies</strong> :</p>

        <div class="concept-card">
            <h3>Les 3 anomalies</h3>
            <table class="styled-table">
                <thead><tr><th>Anomalie</th><th>Probl√®me</th><th>Exemple</th></tr></thead>
                <tbody>
                    <tr><td><strong>Insertion</strong></td><td>Impossible d'ajouter sans donn√©es inutiles</td><td>Ajouter un cours sans √©tudiant inscrit</td></tr>
                    <tr><td><strong>Mise √† jour</strong></td><td>Incoh√©rence si on oublie une copie</td><td>Changer l'adresse d'un client dans 1 ligne sur 5</td></tr>
                    <tr><td><strong>Suppression</strong></td><td>Perte de donn√©es non voulue</td><td>Supprimer le dernier √©tudiant d'un cours supprime aussi le cours</td></tr>
                </tbody>
            </table>
        </div>

        <div class="mnemonic-box">
            <div class="mnemonic-title">üß† Mn√©monique I.M.S.</div>
            <p><strong>I</strong>nsertion ‚Äî <strong>M</strong>ise √† jour ‚Äî <strong>S</strong>uppression</p>
            <p>Les 3 anomalies que la normalisation √©limine.</p>
        </div>
    </section>

    <!-- ‚îÄ‚îÄ‚îÄ 2. D√©pendances fonctionnelles ‚îÄ‚îÄ‚îÄ -->
    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-arrow-right"></i> D√©pendances fonctionnelles (DF)</h2>

        <p>Une <strong>d√©pendance fonctionnelle</strong> A ‚Üí B signifie : si on conna√Æt A, on conna√Æt B de mani√®re unique.</p>

        <div class="info-box">
            <strong>üîß Analogie :</strong> Conna√Ætre le <strong>num√©ro de s√©curit√© sociale</strong> ‚Üí conna√Ætre le nom, pr√©nom, date de naissance. Le num√©ro <em>d√©termine</em> les autres infos.
        </div>

        <div class="code-block">
            <div class="code-header"><span>Exemples de DF</span></div>
            <pre>id_etudiant ‚Üí nom, prenom, email     (l'id d√©termine tout)
email ‚Üí id_etudiant                   (email unique aussi)
(id_etu, id_cours) ‚Üí note             (cl√© compos√©e ‚Üí note)
ville ‚Üí code_postal  ‚ùå FAUX !        (une ville peut avoir plusieurs CP)</pre>
        </div>

        <div class="concept-card">
            <h3>Types de DF</h3>
            <table class="styled-table">
                <thead><tr><th>Type</th><th>D√©finition</th><th>Exemple</th></tr></thead>
                <tbody>
                    <tr><td><strong>DF √©l√©mentaire</strong></td><td>Aucun sous-ensemble de A ne d√©termine B</td><td>(id_etu, id_cours) ‚Üí note ‚úì</td></tr>
                    <tr><td><strong>DF partielle</strong></td><td>Un sous-ensemble de la cl√© suffit</td><td>id_etu ‚Üí nom (ne d√©pend pas de id_cours) ‚ö†Ô∏è</td></tr>
                    <tr><td><strong>DF transitive</strong></td><td>A ‚Üí B ‚Üí C (indirect)</td><td>id ‚Üí ville ‚Üí region ‚ö†Ô∏è</td></tr>
                </tbody>
            </table>
        </div>
    </section>

    <!-- ‚îÄ‚îÄ‚îÄ 3. 1NF ‚îÄ‚îÄ‚îÄ -->
    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-1"></i> Premi√®re forme normale (1NF)</h2>

        <div class="mnemonic-box">
            <div class="mnemonic-title">üß† R√®gle 1NF : A.U.P.</div>
            <p><strong>A</strong>tomique ‚Äî <strong>U</strong>nique (pas de r√©p√©tition) ‚Äî <strong>P</strong>K d√©finie</p>
        </div>

        <p><strong>1NF</strong> = chaque cellule contient une valeur <strong>atomique</strong> (indivisible). Pas de listes, pas de groupes r√©p√©titifs.</p>

        <div class="code-block">
            <div class="code-header"><span>Avant 1NF ‚ùå</span></div>
            <pre>| id | nom    | telephones           |
|----|--------|----------------------|
| 1  | Ali    | 0601, 0602, 0603     |  ‚Üê liste = PAS atomique !
| 2  | Marie  | 0701                 |</pre>
        </div>

        <div class="code-block">
            <div class="code-header"><span>Apr√®s 1NF ‚úÖ</span></div>
            <pre>PERSONNES(id, nom)
TELEPHONES(id_tel, #id_personne, numero)

| id_tel | id_personne | numero |
|--------|-------------|--------|
| 1      | 1           | 0601   |
| 2      | 1           | 0602   |
| 3      | 1           | 0603   |
| 4      | 2           | 0701   |</pre>
        </div>

        <div class="tip-box">
            <strong>üí° Test 1NF :</strong> ¬´ Y a-t-il des virgules, des listes ou des ensembles dans une cellule ? ¬ª ‚Üí Si oui, pas en 1NF !
        </div>
    </section>

    <!-- ‚îÄ‚îÄ‚îÄ 4. 2NF ‚îÄ‚îÄ‚îÄ -->
    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-2"></i> Deuxi√®me forme normale (2NF)</h2>

        <p><strong>2NF = 1NF + pas de d√©pendance partielle</strong>. Tous les attributs non-cl√© d√©pendent de la cl√© ENTI√àRE (pas d'un sous-ensemble).</p>

        <div class="info-box">
            <strong>üîß Analogie :</strong> Si la cl√© est un <strong>verrou √† 2 cl√©s</strong>, chaque information dans le tiroir doit n√©cessiter les DEUX cl√©s pour √™tre retrouv√©e. Si une info n'a besoin que d'UNE cl√©, elle est mal rang√©e.
        </div>

        <div class="code-block">
            <div class="code-header"><span>Avant 2NF ‚ùå (DF partielle)</span></div>
            <pre>INSCRIPTIONS(<u>id_etu, id_cours</u>, note, nom_etu, intitule_cours)
                                        ‚îÇ          ‚îÇ
                                        ‚îî‚îÄ‚îÄ d√©pend seulement de id_etu
                                                   ‚îî‚îÄ‚îÄ d√©pend seulement de id_cours</pre>
        </div>

        <div class="code-block">
            <div class="code-header"><span>Apr√®s 2NF ‚úÖ (d√©composition)</span></div>
            <pre>ETUDIANTS(<u>id_etu</u>, nom_etu)
COURS(<u>id_cours</u>, intitule_cours)
INSCRIPTIONS(<u>#id_etu, #id_cours</u>, note)</pre>
        </div>

        <div class="warning-box">
            <strong>‚ö†Ô∏è Quand s'applique 2NF ?</strong> Uniquement sur les tables avec une <strong>cl√© compos√©e</strong>. Si la cl√© primaire est simple (un seul attribut), la table est d√©j√† en 2NF (si elle est en 1NF).
        </div>
    </section>

    <!-- ‚îÄ‚îÄ‚îÄ 5. 3NF ‚îÄ‚îÄ‚îÄ -->
    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-3"></i> Troisi√®me forme normale (3NF)</h2>

        <p><strong>3NF = 2NF + pas de d√©pendance transitive</strong>. Aucun attribut non-cl√© ne d√©termine un autre attribut non-cl√©.</p>

        <div class="mnemonic-box">
            <div class="mnemonic-title">üß† R√©sum√© 3NF ¬´ La cl√©, toute la cl√©, rien que la cl√© ¬ª</div>
            <p>Chaque attribut non-cl√© d√©pend :<br>
            ‚Ä¢ de <strong>la cl√©</strong> (1NF) ‚Üí valeurs atomiques<br>
            ‚Ä¢ de <strong>toute la cl√©</strong> (2NF) ‚Üí pas de DF partielle<br>
            ‚Ä¢ de <strong>rien que la cl√©</strong> (3NF) ‚Üí pas de DF transitive</p>
        </div>

        <div class="code-block">
            <div class="code-header"><span>Avant 3NF ‚ùå (DF transitive)</span></div>
            <pre>ETUDIANTS(<u>id</u>, nom, ville, region)
    id ‚Üí ville ‚Üí region     ‚Üê transitive !
    (la region d√©pend de ville, pas directement de id)</pre>
        </div>

        <div class="code-block">
            <div class="code-header"><span>Apr√®s 3NF ‚úÖ</span></div>
            <pre>ETUDIANTS(<u>id</u>, nom, #ville)
VILLES(<u>ville</u>, region)</pre>
        </div>
    </section>

    <!-- ‚îÄ‚îÄ‚îÄ 6. BCNF ‚îÄ‚îÄ‚îÄ -->
    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-award"></i> Forme normale de Boyce-Codd (BCNF)</h2>

        <p><strong>BCNF</strong> = version plus stricte de 3NF. R√®gle : tout d√©terminant (c√¥t√© gauche d'une DF) doit √™tre une <strong>cl√© candidate</strong>.</p>

        <div class="info-box">
            <strong>üîß Analogie :</strong> En 3NF, on dit ¬´ les non-cl√©s ne d√©terminent pas d'autres non-cl√©s ¬ª. En BCNF, on va plus loin : ¬´ SEULES les cl√©s candidates ont le droit de d√©terminer quoi que ce soit ¬ª.
        </div>

        <div class="concept-card">
            <h3>Hi√©rarchie des formes normales</h3>
            <table class="styled-table">
                <thead><tr><th>Forme</th><th>R√®gle ajout√©e</th><th>√âlimine</th></tr></thead>
                <tbody>
                    <tr><td><strong>1NF</strong></td><td>Valeurs atomiques + PK</td><td>Groupes r√©p√©titifs</td></tr>
                    <tr><td><strong>2NF</strong></td><td>+ Pas de DF partielles</td><td>D√©pendances partielles</td></tr>
                    <tr><td><strong>3NF</strong></td><td>+ Pas de DF transitives</td><td>D√©pendances transitives</td></tr>
                    <tr><td><strong>BCNF</strong></td><td>+ Tout d√©terminant est cl√© candidate</td><td>Cas r√©siduels rares</td></tr>
                </tbody>
            </table>
        </div>

        <div class="tip-box">
            <strong>üí° En pratique :</strong> 3NF suffit dans 95% des cas. BCNF est un bonus pour les puristes. L'examen teste surtout 1NF ‚Üí 2NF ‚Üí 3NF.
        </div>
    </section>

    <!-- ‚îÄ‚îÄ‚îÄ 7. M√©thode de normalisation ‚îÄ‚îÄ‚îÄ -->
    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-list-ol"></i> M√©thode pas √† pas</h2>

        <div class="concept-card">
            <h3>üîß Proc√©dure de normalisation</h3>
            <ol>
                <li><strong>Identifier les DF</strong> : lister toutes les d√©pendances fonctionnelles</li>
                <li><strong>V√©rifier 1NF</strong> : valeurs atomiques ? PK d√©finie ?</li>
                <li><strong>V√©rifier 2NF</strong> : DF partielles ? (seulement si cl√© compos√©e)</li>
                <li><strong>V√©rifier 3NF</strong> : DF transitives ?</li>
                <li><strong>D√©composer</strong> : cr√©er de nouvelles tables pour chaque violation</li>
                <li><strong>V√©rifier</strong> : les FK relient correctement les tables d√©compos√©es</li>
            </ol>
        </div>
    </section>

    <!-- ‚îÄ‚îÄ‚îÄ Exercices ‚îÄ‚îÄ‚îÄ -->
    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-dumbbell"></i> Exercices du chapitre</h2>
        <div id="chapter-exercises"></div>
    </section>

    <div class="chapter-nav">
        <a href="chapitre4.html" class="btn-nav"><i class="fas fa-arrow-left"></i> Chapitre 4</a>
        <a href="chapitre6.html" class="btn-nav">Chapitre 6 <i class="fas fa-arrow-right"></i></a>
    </div>
</main>

<div class="xp-bar" id="xp-bar"></div>
<script src="../../assets/js/main.js"></script>
<script src="../../assets/js/gamification.js"></script>
<script>
GameEngine.configure({storageKey:'b1_fbd_progress',badges:[{id:'first_table',name:'Premi√®re Table',icon:'üóÉÔ∏è',desc:''},{id:'algebra_fan',name:'Alg√®bre Fan',icon:'œÉ',desc:''},{id:'sql_starter',name:'SQL Starter',icon:'üíª',desc:''},{id:'join_master',name:'JOIN Master',icon:'üîó',desc:''},{id:'norm_ninja',name:'Normalisateur',icon:'üßπ',desc:''},{id:'architect',name:'Architecte BD',icon:'üèóÔ∏è',desc:''},{id:'half_way',name:'Mi-parcours',icon:'üèÅ',desc:''},{id:'db_legend',name:'L√©gende BD',icon:'üèÜ',desc:''}],levels:[{name:'D√©butant',minXP:0},{name:'Apprenti SQL',minXP:100},{name:'Requ√™teur Jr.',minXP:250},{name:'Analyste BD',minXP:500},{name:'DBA Confirm√©',minXP:800},{name:'Guru des Donn√©es',minXP:1200}],tips:["1NF = atomique, 2NF = pas partiel, 3NF = pas transitif","La cl√©, toute la cl√©, rien que la cl√© !"]});
GameEngine.init();
</script>
<script src="../../assets/js/chapter-exercises.js"></script>
<script>
ChapterExercises.init({
    guided:[
        {q:"La table COMMANDES(id_cmd, id_client, nom_client, produit, prix, ville_client, region_client) est-elle en 1NF ?",hints:["Les valeurs sont-elles toutes atomiques ?","Y a-t-il des listes dans les cellules ?"],answer:"Oui, si chaque cellule est atomique (pas de listes). Mais il y a beaucoup de redondance ‚Üí √† v√©rifier pour 2NF et 3NF."},
        {q:"Dans la table INSCRIPTIONS(id_etu, id_cours, note, nom_etu), identifiez la DF partielle.",hints:["La cl√© est (id_etu, id_cours)","nom_etu d√©pend de quel sous-ensemble ?"],answer:"DF partielle : id_etu ‚Üí nom_etu. nom_etu ne d√©pend pas de id_cours, donc elle viole la 2NF."},
        {q:"Normalisez en 2NF : INSCRIPTIONS(id_etu, id_cours, note, nom_etu, intitule).",hints:["Extraire ce qui d√©pend partiellement","Cr√©er des tables s√©par√©es"],answer:"ETUDIANTS(id_etu, nom_etu), COURS(id_cours, intitule), INSCRIPTIONS(#id_etu, #id_cours, note)"},
        {q:"Identifiez la DF transitive dans EMPLOYES(id, nom, dept, localisation_dept).",hints:["id ‚Üí dept ‚Üí ?","La localisation d√©pend du d√©partement"],answer:"DF transitive : id ‚Üí dept ‚Üí localisation_dept. Il faut cr√©er DEPARTEMENTS(dept, localisation_dept) et mettre #dept dans EMPLOYES."},
        {q:"Expliquez ¬´ La cl√©, toute la cl√©, rien que la cl√© ¬ª.",hints:["Chaque terme correspond √† une NF"],answer:"La cl√© = 1NF (PK identifie chaque ligne). Toute la cl√© = 2NF (pas de DF partielle). Rien que la cl√© = 3NF (pas de DF transitive)."}
    ],
    quiz:[
        {type:"mcq",q:"1NF exige :",options:["Pas de DF partielles","Valeurs atomiques et PK","Pas de DF transitives","BCNF"],correct:1},
        {type:"mcq",q:"2NF s'applique surtout quand :",options:["La cl√© est simple","La table a beaucoup de lignes","La cl√© est compos√©e","Il y a des NULL"],correct:2},
        {type:"mcq",q:"3NF √©limine :",options:["Les groupes r√©p√©titifs","Les DF partielles","Les DF transitives","Les NULL"],correct:2},
        {type:"mcq",q:"¬´ La cl√©, toute la cl√©, rien que la cl√© ¬ª r√©sume :",options:["1NF, 2NF, 3NF respectivement","DDL, DML, DCL","SELECT, FROM, WHERE","INNER, LEFT, RIGHT"],correct:0},
        {type:"mcq",q:"Si A ‚Üí B ‚Üí C, c'est une DF :",options:["√âl√©mentaire","Partielle","Transitive","Naturelle"],correct:2},
        {type:"mcq",q:"Quel probl√®me cause la non-normalisation ?",options:["Tables trop petites","Anomalies d'insertion, mise √† jour, suppression","Performances trop rapides","Trop de tables"],correct:1},
        {type:"mcq",q:"BCNF est :",options:["Moins strict que 3NF","Plus strict que 3NF","Identique √† 2NF","Obsol√®te"],correct:1},
        {type:"qa",q:"Citez les 3 anomalies (I.M.S.).",answer:"Insertion, Mise √† jour, Suppression."},
        {type:"qa",q:"Quelle est la condition de 2NF ?",answer:"1NF + aucun attribut non-cl√© ne d√©pend partiellement de la cl√© (d√©pend de TOUTE la cl√©)."},
        {type:"qa",q:"Qu'est-ce qu'une d√©pendance fonctionnelle A ‚Üí B ?",answer:"Si on conna√Æt la valeur de A, on conna√Æt une et une seule valeur de B. A d√©termine B."}
    ],
    dragdrop:[
        {instruction:"Associez la NF √† sa r√®gle :",pairs:[["1NF","Valeurs atomiques"],["2NF","Pas de DF partielles"],["3NF","Pas de DF transitives"],["BCNF","Tout d√©terminant est cl√© candidate"]]},
        {instruction:"Associez l'anomalie √† l'exemple :",pairs:[["Insertion","Impossible d'ajouter un cours sans √©tudiant"],["Mise √† jour","Adresse modifi√©e dans 1 ligne sur 5"],["Suppression","Dernier √©tudiant supprim√© = cours perdu"]]},
        {instruction:"Classez dans l'ordre d'inclusion (le plus faible ‚Üí le plus strict) :",pairs:[["1","1NF"],["2","2NF"],["3","3NF"],["4","BCNF"]]}
    ]
});
</script>
<script src="../../assets/js/download.js"></script>
</body>
</html>
