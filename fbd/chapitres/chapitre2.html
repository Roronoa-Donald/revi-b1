<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chapitre 2 â€” AlgÃ¨bre relationnelle | FBD B1</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../assets/css/style.css">
    <style>:root{--accent:#ea580c;--accent-light:#f97316;--accent-dark:#c2410c;--accent-glow:rgba(234,88,12,0.18)}.dark{--accent:#f97316;--accent-light:#fb923c;--accent-dark:#ea580c;--accent-glow:rgba(249,115,22,0.18)}</style>
</head>
<body>
<a href="#main-content" class="skip-link">Aller au contenu</a>
<div class="reading-progress" id="reading-progress"></div>
<nav class="glass-nav"><div class="nav-inner">
    <a href="../index.html" class="nav-logo"><i class="fas fa-database"></i> AutoBot</a>
    <ul class="nav-links">
        <li><a href="../index.html">Accueil</a></li><li><a href="formules.html">Formules</a></li>
        <li><a href="cartes.html">Cartes</a></li><li><a href="simulateur-examen.html">Simulateur</a></li>
        <li><a href="../exercices/exercices.html">Exercices</a></li>
    </ul>
    <div class="nav-actions">
        <button id="theme-toggle" aria-label="Mode sombre"><i class="fa-solid fa-moon"></i></button>
        <button class="hamburger-btn" id="hamburger-btn" aria-label="Menu"><i class="fa-solid fa-bars"></i></button>
    </div>
</div></nav>
<div class="mobile-nav-overlay" id="mobile-nav-overlay"></div>
<div class="mobile-nav-panel" id="mobile-nav">
    <div class="mobile-nav-header"><span>ğŸ”§ AutoBot</span><button class="mobile-nav-close" id="mobile-nav-close"><i class="fas fa-times"></i></button></div>
    <a href="../index.html"><i class="fas fa-home"></i> Accueil</a>
    <a href="chapitre1.html"><i class="fas fa-book-open"></i> Ch.1</a><a href="chapitre2.html" class="active"><i class="fas fa-book-open"></i> Ch.2</a>
    <a href="chapitre3.html"><i class="fas fa-book-open"></i> Ch.3</a><a href="chapitre4.html"><i class="fas fa-book-open"></i> Ch.4</a>
    <a href="chapitre5.html"><i class="fas fa-book-open"></i> Ch.5</a><a href="chapitre6.html"><i class="fas fa-book-open"></i> Ch.6</a>
    <a href="formules.html"><i class="fas fa-scroll"></i> Formules</a><a href="cartes.html"><i class="fas fa-layer-group"></i> Cartes</a>
    <a href="simulateur-examen.html"><i class="fas fa-graduation-cap"></i> Simulateur</a>
    <a href="../exercices/exercices.html"><i class="fas fa-dumbbell"></i> Exercices</a>
</div>

<section class="hero-section" id="main-content">
    <div class="hero-badge"><i class="fas fa-filter"></i> Chapitre 2</div>
    <h1>Ïƒ AlgÃ¨bre <span class="highlight">relationnelle</span></h1>
    <p>SÃ©lection, projection, jointure, unionâ€¦ â€” les opÃ©rations thÃ©oriques avant le SQL.</p>
</section>

<main class="content-wrapper">

    <!-- â”€â”€â”€ 1. Introduction â”€â”€â”€ -->
    <section class="chapter-section reveal-on-scroll">
        <h2><i class="fas fa-bullseye"></i> Objectifs du chapitre</h2>
        <div class="info-box">
            <ul>
                <li>MaÃ®triser les opÃ©rations de l'algÃ¨bre relationnelle</li>
                <li>Appliquer sÃ©lection, projection et jointure</li>
                <li>Combiner union, intersection et diffÃ©rence</li>
            </ul>
        </div>
    </section>

    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-info-circle"></i> Pourquoi l'algÃ¨bre relationnelle ?</h2>

        <div class="info-box">
            <strong>ğŸ”§ Analogie AutoBot :</strong> L'algÃ¨bre relationnelle, c'est la <strong>recette de cuisine</strong> que suit le SGBD. Le SQL est la commande au restaurant, l'algÃ¨bre est ce que le chef fait en cuisine pour prÃ©parer le plat.
        </div>

        <p>L'algÃ¨bre relationnelle est le <strong>langage thÃ©orique</strong> qui dÃ©crit les opÃ©rations sur les tables. Le SQL est sa traduction pratique. Comprendre l'algÃ¨bre aide Ã  prÃ©dire le rÃ©sultat d'une requÃªte SQL complexe.</p>
    </section>

    <!-- â”€â”€â”€ 2. OpÃ©rations unaires â”€â”€â”€ -->
    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-filter"></i> OpÃ©rations unaires (1 table)</h2>

        <div class="mnemonic-box">
            <div class="mnemonic-title">ğŸ§  MnÃ©monique S.P.R.</div>
            <p><strong>S</strong>Ã©lection (Ïƒ) â€” <strong>P</strong>rojection (Ï€) â€” <strong>R</strong>enommage (Ï)</p>
            <p>Les 3 opÃ©rations qui s'appliquent Ã  UNE seule table.</p>
        </div>

        <h3>Ïƒ â€” SÃ©lection (sigma)</h3>
        <p>Filtre les <strong>lignes</strong> selon une condition. Garde les tuples qui satisfont le critÃ¨re.</p>

        <div class="code-block">
            <div class="code-header"><span>SÃ©lection</span></div>
            <pre>Ïƒ_age>20 (ETUDIANTS)
â†’ Garde uniquement les Ã©tudiants de plus de 20 ans

En SQL : SELECT * FROM ETUDIANTS WHERE age > 20;</pre>
        </div>

        <div class="tip-box">
            <strong>ğŸ’¡ Moyen mnÃ©motechnique :</strong> Ïƒ = <strong>S</strong>igma = <strong>S</strong>Ã©lection = on <strong>S</strong>Ã©pare les lignes qui passent le filtre.
        </div>

        <h3>Ï€ â€” Projection (pi)</h3>
        <p>SÃ©lectionne des <strong>colonnes</strong>. Ne garde que les attributs demandÃ©s.</p>

        <div class="code-block">
            <div class="code-header"><span>Projection</span></div>
            <pre>Ï€_nom,prenom (ETUDIANTS)
â†’ Garde uniquement les colonnes nom et prenom

En SQL : SELECT nom, prenom FROM ETUDIANTS;</pre>
        </div>

        <div class="info-box">
            <strong>ğŸ”§ Analogie :</strong> Ïƒ = filtre <strong>horizontal</strong> (lignes). Ï€ = filtre <strong>vertical</strong> (colonnes). Ensemble, ils dÃ©coupent la table comme un cutter dans les deux directions.
        </div>

        <h3>Ï â€” Renommage (rho)</h3>
        <p>Change le nom d'une relation ou d'un attribut.</p>
        <div class="code-block">
            <div class="code-header"><span>Renommage</span></div>
            <pre>Ï_E (ETUDIANTS)      â†’ la table s'appelle maintenant E
Ï_surname/nom (E)    â†’ l'attribut nom s'appelle surname

En SQL : SELECT nom AS surname FROM ETUDIANTS E;</pre>
        </div>
    </section>

    <!-- â”€â”€â”€ 3. OpÃ©rations binaires ensemblistes â”€â”€â”€ -->
    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-object-group"></i> OpÃ©rations ensemblistes (2 tables)</h2>

        <div class="mnemonic-box">
            <div class="mnemonic-title">ğŸ§  MnÃ©monique U.I.D.P.</div>
            <p><strong>U</strong>nion (âˆª) â€” <strong>I</strong>ntersection (âˆ©) â€” <strong>D</strong>iffÃ©rence (âˆ’) â€” <strong>P</strong>roduit cartÃ©sien (Ã—)</p>
        </div>

        <div class="warning-box">
            <strong>âš ï¸ Condition de compatibilitÃ© :</strong> Pour Union, Intersection et DiffÃ©rence, les deux tables doivent avoir le <strong>mÃªme schÃ©ma</strong> (mÃªmes attributs, mÃªmes types).
        </div>

        <div class="concept-card">
            <h3>Les 4 opÃ©rations</h3>
            <table class="styled-table">
                <thead><tr><th>OpÃ©ration</th><th>Symbole</th><th>RÃ©sultat</th><th>SQL</th></tr></thead>
                <tbody>
                    <tr><td><strong>Union</strong></td><td>âˆª</td><td>Toutes les lignes de R1 + R2 (sans doublons)</td><td>UNION</td></tr>
                    <tr><td><strong>Intersection</strong></td><td>âˆ©</td><td>Lignes communes Ã  R1 et R2</td><td>INTERSECT</td></tr>
                    <tr><td><strong>DiffÃ©rence</strong></td><td>âˆ’</td><td>Lignes de R1 absentes de R2</td><td>EXCEPT</td></tr>
                    <tr><td><strong>Produit cartÃ©sien</strong></td><td>Ã—</td><td>Toutes les combinaisons (R1 Ã— R2)</td><td>CROSS JOIN</td></tr>
                </tbody>
            </table>
        </div>

        <div class="code-block">
            <div class="code-header"><span>Exemples</span></div>
            <pre>ETUDIANTS_PARIS âˆª ETUDIANTS_LYON    â†’ tous les Ã©tudiants
ETUDIANTS_PARIS âˆ© ETUDIANTS_LYON    â†’ Ã©tudiants inscrits aux deux
ETUDIANTS_PARIS âˆ’ ETUDIANTS_LYON    â†’ Ã©tudiants SEULEMENT Ã  Paris

Si R1 a 3 lignes et R2 a 4 lignes :
R1 Ã— R2 â†’ 3 Ã— 4 = 12 lignes (toutes les combinaisons)</pre>
        </div>

        <div class="warning-box">
            <strong>âš ï¸ Attention :</strong> Le produit cartÃ©sien seul est rarement utile â€” il Â« explose Â» le nombre de lignes. On l'utilise TOUJOURS avec une sÃ©lection (â†’ jointure).
        </div>
    </section>

    <!-- â”€â”€â”€ 4. Jointures â”€â”€â”€ -->
    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-link"></i> Les jointures</h2>

        <p>La jointure combine deux tables en utilisant une <strong>condition de liaison</strong> (gÃ©nÃ©ralement PK = FK).</p>

        <div class="info-box">
            <strong>ğŸ”§ Analogie :</strong> Imagine deux listes Excel â€” ETUDIANTS et NOTES. Tu veux voir les notes avec le nom de l'Ã©tudiant. La jointure Â« colle Â» les deux listes en faisant correspondre l'id_etudiant.
        </div>

        <div class="concept-card">
            <h3>Types de jointures</h3>
            <table class="styled-table">
                <thead><tr><th>Type</th><th>Symbole</th><th>Description</th></tr></thead>
                <tbody>
                    <tr><td><strong>Theta-jointure</strong></td><td>â‹ˆ_Î¸</td><td>Produit cartÃ©sien + sÃ©lection sur condition Î¸</td></tr>
                    <tr><td><strong>Equi-jointure</strong></td><td>â‹ˆ<sub>=</sub></td><td>Theta-jointure oÃ¹ Î¸ est une Ã©galitÃ© (=)</td></tr>
                    <tr><td><strong>Jointure naturelle</strong></td><td>â‹ˆ</td><td>Equi-jointure sur TOUS les attributs communs (mÃªme nom)</td></tr>
                </tbody>
            </table>
        </div>

        <div class="code-block">
            <div class="code-header"><span>Jointure â€” AlgÃ¨bre vs SQL</span></div>
            <pre>AlgÃ¨bre :  ETUDIANTS â‹ˆ (id_etu = id_etudiant) NOTES
SQL     :  SELECT * FROM ETUDIANTS
            JOIN NOTES ON ETUDIANTS.id_etu = NOTES.id_etudiant;

Jointure naturelle :
AlgÃ¨bre :  ETUDIANTS â‹ˆ NOTES  (si mÃªme nom d'attribut)
SQL     :  SELECT * FROM ETUDIANTS NATURAL JOIN NOTES;</pre>
        </div>

        <div class="mnemonic-box">
            <div class="mnemonic-title">ğŸ§  Formule de la jointure</div>
            <p><strong>R1 â‹ˆ_Î¸ R2 = Ïƒ_Î¸ (R1 Ã— R2)</strong></p>
            <p>Jointure = Produit cartÃ©sien + SÃ©lection. C'est du Â« filtrage aprÃ¨s combinaison Â» !</p>
        </div>
    </section>

    <!-- â”€â”€â”€ 5. Division â”€â”€â”€ -->
    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-divide"></i> La division (Ã·)</h2>

        <p>OpÃ©ration la plus complexe : <strong>R1 Ã· R2</strong> retourne les tuples de R1 associÃ©s Ã  <em>TOUS</em> les tuples de R2.</p>

        <div class="info-box">
            <strong>ğŸ”§ Analogie :</strong> Â« Quels Ã©tudiants sont inscrits Ã  TOUS les cours ? Â» â€” La division rÃ©pond Ã  cette question du Â« pour tout Â».
        </div>

        <div class="code-block">
            <div class="code-header"><span>Exemple</span></div>
            <pre>INSCRIPTIONS(id_etu, id_cours)    Ã·    COURS(id_cours)
= Les Ã©tudiants inscrits Ã  TOUS les cours

SQL (pas de mot-clÃ© direct, on passe par NOT EXISTS) :
SELECT id_etu FROM INSCRIPTIONS I
WHERE NOT EXISTS (
    SELECT id_cours FROM COURS C
    WHERE NOT EXISTS (
        SELECT 1 FROM INSCRIPTIONS I2
        WHERE I2.id_etu = I.id_etu AND I2.id_cours = C.id_cours
    )
);</pre>
        </div>
    </section>

    <!-- â”€â”€â”€ 6. Arbre algÃ©brique â”€â”€â”€ -->
    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-sitemap"></i> Arbre algÃ©brique</h2>

        <p>On reprÃ©sente une requÃªte complexe sous forme d'<strong>arbre</strong> :</p>
        <ul>
            <li><strong>Feuilles</strong> = relations (tables sources)</li>
            <li><strong>NÅ“uds internes</strong> = opÃ©rations (Ïƒ, Ï€, â‹ˆ, âˆªâ€¦)</li>
            <li><strong>Racine</strong> = rÃ©sultat final</li>
        </ul>

        <div class="code-block">
            <div class="code-header"><span>Exemple : Ï€_nom (Ïƒ_note>15 (ETUDIANTS â‹ˆ NOTES))</span></div>
            <pre>        Ï€_nom
          â”‚
      Ïƒ_note>15
          â”‚
          â‹ˆ
         / \
   ETUDIANTS  NOTES

Lecture bottom-up :
1. Tables sources â†’ ETUDIANTS et NOTES
2. Jointure â†’ combine les deux
3. SÃ©lection â†’ filtre note > 15
4. Projection â†’ ne garde que le nom</pre>
        </div>

        <div class="tip-box">
            <strong>ğŸ’¡ Optimisation :</strong> Descendre les Ïƒ (sÃ©lections) le plus bas possible dans l'arbre rÃ©duit le volume de donnÃ©es traitÃ©es â†’ requÃªte plus rapide !
        </div>
    </section>

    <!-- â”€â”€â”€ 7. RÃ©sumÃ© â”€â”€â”€ -->
    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-check-circle"></i> RÃ©capitulatif</h2>
        <div class="concept-card">
            <h3>ğŸ§  Les 8 opÃ©rations de l'algÃ¨bre relationnelle</h3>
            <table class="styled-table">
                <thead><tr><th>Op.</th><th>Symbole</th><th>Unaire/Binaire</th><th>SQL Ã©quivalent</th></tr></thead>
                <tbody>
                    <tr><td>SÃ©lection</td><td>Ïƒ</td><td>Unaire</td><td>WHERE</td></tr>
                    <tr><td>Projection</td><td>Ï€</td><td>Unaire</td><td>SELECT cols</td></tr>
                    <tr><td>Renommage</td><td>Ï</td><td>Unaire</td><td>AS</td></tr>
                    <tr><td>Union</td><td>âˆª</td><td>Binaire</td><td>UNION</td></tr>
                    <tr><td>Intersection</td><td>âˆ©</td><td>Binaire</td><td>INTERSECT</td></tr>
                    <tr><td>DiffÃ©rence</td><td>âˆ’</td><td>Binaire</td><td>EXCEPT</td></tr>
                    <tr><td>Produit cart.</td><td>Ã—</td><td>Binaire</td><td>CROSS JOIN</td></tr>
                    <tr><td>Jointure</td><td>â‹ˆ</td><td>Binaire</td><td>JOIN â€¦ ON</td></tr>
                </tbody>
            </table>
        </div>
    </section>

    <!-- â”€â”€â”€ Exercices â”€â”€â”€ -->
    <section class="chapter-section reveal-on-scroll">
        <h2 class="section-title"><i class="fas fa-dumbbell"></i> Exercices du chapitre</h2>
        <div id="chapter-exercises"></div>
    </section>

    <div class="chapter-nav">
        <a href="chapitre1.html" class="btn-nav"><i class="fas fa-arrow-left"></i> Chapitre 1</a>
        <a href="chapitre3.html" class="btn-nav">Chapitre 3 <i class="fas fa-arrow-right"></i></a>
    </div>
</main>

<div class="xp-bar-container">
    <span class="xp-level">DÃ©butant</span>
    <div class="xp-bar"><div class="xp-bar-fill" style="width:0%"></div></div>
    <span class="xp-text">0 XP</span>
</div>
<script src="../../assets/js/main.js"></script>
<script src="../../assets/js/gamification.js"></script>
<script>
GameEngine.configure({storageKey:'b1_fbd_progress',badges:[{id:'first_table',name:'PremiÃ¨re Table',icon:'ğŸ—ƒï¸',desc:''},{id:'algebra_fan',name:'AlgÃ¨bre Fan',icon:'Ïƒ',desc:''},{id:'sql_starter',name:'SQL Starter',icon:'ğŸ’»',desc:''},{id:'join_master',name:'JOIN Master',icon:'ğŸ”—',desc:''},{id:'norm_ninja',name:'Normalisateur',icon:'ğŸ§¹',desc:''},{id:'architect',name:'Architecte BD',icon:'ğŸ—ï¸',desc:''},{id:'half_way',name:'Mi-parcours',icon:'ğŸ',desc:''},{id:'db_legend',name:'LÃ©gende BD',icon:'ğŸ†',desc:''}],levels:[{title:'DÃ©butant',min:0},{title:'Apprenti SQL',min:100},{title:'RequÃªteur Jr.',min:250},{title:'Analyste BD',min:500},{title:'DBA ConfirmÃ©',min:800},{title:'Guru des DonnÃ©es',min:1200}],tips:["Ïƒ = lignes | Ï€ = colonnes","Jointure = Produit cartÃ©sien + SÃ©lection"]});
GameEngine.init();
</script>
<script src="../../assets/js/chapter-exercises.js"></script>
<script>
ChapterExercises.init({
    guided:[
        {q:"Ã‰crivez en algÃ¨bre : 'les noms des Ã©tudiants Ã¢gÃ©s de plus de 22 ans'.",hints:["D'abord filtre (Ïƒ) puis colonnes (Ï€)","Ïƒ puis Ï€"],answer:"Ï€_nom (Ïƒ_age>22 (ETUDIANTS))"},
        {q:"ETUDIANTS a 5 lignes, COURS a 3 lignes. Combien de lignes donne ETUDIANTS Ã— COURS ?",hints:["Produit cartÃ©sien = toutes les combinaisons"],answer:"5 Ã— 3 = 15 lignes."},
        {q:"Quelle est la diffÃ©rence entre Ïƒ (sÃ©lection) et Ï€ (projection) ?",hints:["Ïƒ filtre desâ€¦","Ï€ filtre desâ€¦"],answer:"Ïƒ filtre des LIGNES (horizontal). Ï€ filtre des COLONNES (vertical)."},
        {q:"Ã‰crivez la jointure en algÃ¨bre : 'les noms et notes des Ã©tudiants'.",hints:["Joindre ETUDIANTS et NOTES sur id","Puis projeter nom et note"],answer:"Ï€_nom,note (ETUDIANTS â‹ˆ (id=id_etu) NOTES)"},
        {q:"ETUDIANTS_PARIS âˆª ETUDIANTS_LYON contient-il des doublons ?",hints:["L'union en algÃ¨bre Ã©limineâ€¦"],answer:"Non, l'union (âˆª) Ã©limine automatiquement les doublons (comme UNION en SQL, pas UNION ALL)."}
    ],
    quiz:[
        {type:"mcq",q:"Ïƒ en algÃ¨bre relationnelle correspond Ã  :",options:["SELECT colonnes","WHERE condition","JOIN","GROUP BY"],correct:1},
        {type:"mcq",q:"Ï€ en algÃ¨bre relationnelle correspond Ã  :",options:["WHERE","SELECT colonnes","ORDER BY","HAVING"],correct:1},
        {type:"mcq",q:"R1 â‹ˆ R2 est Ã©quivalent Ã  :",options:["Ï€(R1 âˆª R2)","Ïƒ(R1 Ã— R2)","R1 âˆ’ R2","Ï(R1)"],correct:1},
        {type:"mcq",q:"Pour faire une union, les tables doivent :",options:["Avoir le mÃªme nombre de lignes","Avoir le mÃªme schÃ©ma","Avoir une FK commune","ÃŠtre triÃ©es"],correct:1},
        {type:"mcq",q:"La division R1 Ã· R2 rÃ©pond Ã  :",options:["'Il existe au moins un'","'Pour tout'","'Aucun'","'La somme de'"],correct:1},
        {type:"mcq",q:"Le produit cartÃ©sien de 10 et 8 lignes donne :",options:["18 lignes","80 lignes","10 lignes","2 lignes"],correct:1},
        {type:"mcq",q:"Dans un arbre algÃ©brique, les feuilles sont :",options:["Les opÃ©rations","Les rÃ©sultats","Les tables sources","Les conditions"],correct:2},
        {type:"qa",q:"Citez les 3 opÃ©rations unaires (S.P.R.).",answer:"SÃ©lection (Ïƒ), Projection (Ï€), Renommage (Ï)."},
        {type:"qa",q:"Citez les 4 opÃ©rations ensemblistes (U.I.D.P.).",answer:"Union (âˆª), Intersection (âˆ©), DiffÃ©rence (âˆ’), Produit cartÃ©sien (Ã—)."},
        {type:"qa",q:"Comment optimise-t-on un arbre algÃ©brique ?",answer:"On descend les sÃ©lections (Ïƒ) le plus bas possible pour rÃ©duire le volume de donnÃ©es dÃ¨s le dÃ©part."}
    ],
    dragdrop:[
        {instruction:"Associez le symbole Ã  l'opÃ©ration :",pairs:[["Ïƒ","SÃ©lection"],["Ï€","Projection"],["Ï","Renommage"],["â‹ˆ","Jointure"],["âˆª","Union"],["âˆ©","Intersection"]]},
        {instruction:"Associez l'opÃ©ration Ã  son Ã©quivalent SQL :",pairs:[["Ïƒ","WHERE"],["Ï€","SELECT colonnes"],["âˆª","UNION"],["âˆ’","EXCEPT"],["Ã—","CROSS JOIN"],["â‹ˆ","JOIN ON"]]},
        {instruction:"Classez : Unaire ou Binaire ?",pairs:[["SÃ©lection","Unaire"],["Union","Binaire"],["Projection","Unaire"],["Jointure","Binaire"],["Renommage","Unaire"],["DiffÃ©rence","Binaire"]]}
    ]
});
</script>
<script src="../../assets/js/download.js"></script>
</body>
</html>
