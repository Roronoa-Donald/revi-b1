<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulateur d'examen | Stats B1</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../../assets/css/style.css">
    <style>:root{--accent:#8b5cf6;--accent-light:#a78bfa;--accent-dark:#7c3aed;--accent-glow:rgba(139,92,246,0.25)}.dark{--accent:#a78bfa;--accent-light:#c4b5fd;--accent-dark:#8b5cf6;--accent-glow:rgba(167,139,250,0.25)}.sim-config{max-width:560px;margin:2rem auto;padding:2rem;background:var(--card-bg);border-radius:18px;display:flex;flex-direction:column;gap:1rem;box-shadow:0 4px 24px rgba(0,0,0,.08)}.sim-config label{font-weight:600;font-size:.93rem}.sim-config select,.sim-config input{padding:.6rem 1rem;border-radius:10px;border:1px solid var(--border);background:var(--bg);color:var(--text);font-size:1rem}.sim-config button{padding:.75rem;border:none;border-radius:12px;background:var(--accent);color:#fff;font-weight:700;font-size:1.05rem;cursor:pointer;transition:.2s}.sim-config button:hover{transform:translateY(-2px);box-shadow:0 6px 18px var(--accent-glow)}.quiz-area{max-width:720px;margin:2rem auto}.quiz-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem;font-weight:600}.timer{font-family:'JetBrains Mono',monospace;font-size:1.1rem;color:var(--accent)}.progress-bar-bg{height:8px;background:var(--border);border-radius:99px;overflow:hidden;margin-bottom:1.5rem}.progress-bar-fill{height:100%;background:var(--accent);border-radius:99px;transition:width .3s}.q-card{background:var(--card-bg);border-radius:18px;padding:2rem;margin-bottom:1.5rem;box-shadow:0 4px 20px rgba(0,0,0,.06)}.q-card h3{margin-top:0;font-size:1.05rem;line-height:1.5}.q-options{display:flex;flex-direction:column;gap:.6rem;margin-top:1rem}.q-option{padding:.75rem 1rem;border-radius:12px;border:2px solid var(--border);cursor:pointer;transition:.2s;font-size:.95rem}.q-option:hover{border-color:var(--accent)}.q-option.selected{border-color:var(--accent);background:var(--accent-glow)}.q-option.correct{border-color:#10b981;background:rgba(16,185,129,.15)}.q-option.wrong{border-color:#ef4444;background:rgba(239,68,68,.15)}.q-explanation{margin-top:.75rem;padding:1rem;border-radius:12px;background:var(--accent-glow);font-size:.9rem;display:none;line-height:1.5}.q-nav{display:flex;justify-content:space-between;gap:1rem;margin-top:1rem}.q-nav button{flex:1;padding:.65rem;border:none;border-radius:10px;font-weight:600;cursor:pointer;transition:.2s}.btn-prev{background:var(--card-bg);border:2px solid var(--border)!important;color:var(--text)}.btn-next{background:var(--accent);color:#fff}.results-card{text-align:center;background:var(--card-bg);border-radius:18px;padding:3rem 2rem;max-width:540px;margin:3rem auto}.results-card h2{font-size:2rem;margin-bottom:.5rem}.results-score{font-size:4rem;font-weight:900;color:var(--accent)}.results-bar{height:14px;background:var(--border);border-radius:99px;margin:1.5rem auto;max-width:360px;overflow:hidden}.results-fill{height:100%;background:var(--accent);border-radius:99px;transition:width 1s}.results-details{display:flex;justify-content:center;gap:2rem;margin:1.5rem 0;font-size:.95rem}.results-details span{color:var(--accent);font-weight:700}.btn-restart{padding:.75rem 2rem;border:none;border-radius:12px;background:var(--accent);color:#fff;font-weight:700;font-size:1.05rem;cursor:pointer;transition:.2s;margin-top:1rem}.btn-restart:hover{transform:translateY(-2px)}</style>
</head>
<body>
<a href="#main-content" class="skip-link">Aller au contenu</a>
<nav class="glass-nav"><div class="nav-inner">
    <a href="../index.html" class="nav-logo"><i class="fas fa-chart-bar"></i> StatBot</a>
    <ul class="nav-links">
        <li><a href="../index.html">Accueil</a></li><li><a href="formules.html">Formules</a></li>
        <li><a href="cartes.html">Cartes</a></li><li><a href="simulateur-examen.html" class="active">Simulateur</a></li>
        <li><a href="../exercices/exercices.html">Exercices</a></li>
    </ul>
    <div class="nav-actions">
        <button id="theme-toggle" aria-label="Mode sombre"><i class="fa-solid fa-moon"></i></button>
        <button class="hamburger-btn" id="hamburger-btn" aria-label="Menu"><i class="fa-solid fa-bars"></i></button>
    </div>
</div></nav>
<div class="mobile-nav-overlay" id="mobile-nav-overlay"></div>
<div class="mobile-nav-panel" id="mobile-nav">
    <div class="mobile-nav-header"><span>ğŸ“Š StatBot</span><button class="mobile-nav-close" id="mobile-nav-close"><i class="fas fa-times"></i></button></div>
    <a href="../index.html"><i class="fas fa-home"></i> Accueil</a>
    <a href="chapitre1.html"><i class="fas fa-book-open"></i> Ch.1</a><a href="chapitre2.html"><i class="fas fa-book-open"></i> Ch.2</a>
    <a href="chapitre3.html"><i class="fas fa-book-open"></i> Ch.3</a><a href="chapitre4.html"><i class="fas fa-book-open"></i> Ch.4</a>
    <a href="chapitre5.html"><i class="fas fa-book-open"></i> Ch.5</a><a href="chapitre6.html"><i class="fas fa-book-open"></i> Ch.6</a>
    <a href="formules.html"><i class="fas fa-scroll"></i> Formules</a><a href="cartes.html"><i class="fas fa-layer-group"></i> Cartes</a>
    <a href="simulateur-examen.html" class="active"><i class="fas fa-graduation-cap"></i> Simulateur</a>
    <a href="../exercices/exercices.html"><i class="fas fa-dumbbell"></i> Exercices</a>
</div>

<section class="hero-section" id="main-content">
    <div class="hero-badge"><i class="fas fa-graduation-cap"></i> Simulateur d'examen</div>
    <h1>ğŸ“Š PrÃ©pare ton <span class="highlight">examen</span></h1>
    <p>35 questions tirÃ©es alÃ©atoirement â€” chrono, score, corrections.</p>
</section>

<main class="content-wrapper">
    <div id="config-panel" class="sim-config">
        <label>Nombre de questions
            <select id="qCount"><option value="10">10</option><option value="15">15</option><option value="20" selected>20</option><option value="35">35 (Tout)</option></select>
        </label>
        <label>Chapitre
            <select id="qChapter"><option value="all" selected>Tous les chapitres</option>
                <option value="1">Ch.1 â€” SÃ©ries statistiques</option><option value="2">Ch.2 â€” Tableaux de frÃ©quences</option>
                <option value="3">Ch.3 â€” Tendance centrale</option><option value="4">Ch.4 â€” Dispersion</option>
                <option value="5">Ch.5 â€” Graphiques</option><option value="6">Ch.6 â€” CorrÃ©lation</option></select>
        </label>
        <label>Temps (min)
            <input type="number" id="qTime" value="20" min="5" max="90" step="5">
        </label>
        <button onclick="startQuiz()"><i class="fas fa-play"></i> Lancer l'examen</button>
    </div>
    <div id="quiz-area" class="quiz-area" style="display:none"></div>
    <div id="results-area" style="display:none"></div>
</main>

<script src="../../assets/js/main.js"></script>
<script>
const BANK=[
// â”€â”€â”€ Ch.1 SÃ©ries statistiques â”€â”€â”€
{ch:1,q:"Quel mnÃ©monique retenir pour Population / Ã‰chantillon / Individu ?",o:["P.E.I.","V.I.P.","P.I.E.","I.P.E."],c:0,e:"P.E.I. = Population, Ã‰chantillon, Individu â€” les 3 niveaux d'observation."},
{ch:1,q:"La taille d'une personne est une variable :",o:["Qualitative nominale","Quantitative discrÃ¨te","Quantitative continue","Qualitative ordinale"],c:2,e:"La taille peut prendre toute valeur dans un intervalle â†’ quantitative continue."},
{ch:1,q:"Le nombre de frÃ¨res et sÅ“urs est une variable :",o:["Quantitative continue","Qualitative nominale","Quantitative discrÃ¨te","Qualitative ordinale"],c:2,e:"On compte des entiers (0, 1, 2â€¦) â†’ quantitative discrÃ¨te."},
{ch:1,q:"Quelle est la diffÃ©rence entre caractÃ¨re et modalitÃ© ?",o:["CaractÃ¨re = ce qu'on observe, modalitÃ© = valeur possible","C'est la mÃªme chose","CaractÃ¨re = Ã©chantillon, modalitÃ© = population","ModalitÃ© = variable, caractÃ¨re = frÃ©quence"],c:0,e:"Le caractÃ¨re est la propriÃ©tÃ© Ã©tudiÃ©e; les modalitÃ©s sont ses valeurs possibles."},
{ch:1,q:"Un sondage sur 500 personnes parmi 50 000 : le 500 est :",o:["La population","L'individu","L'Ã©chantillon","L'effectif total"],c:2,e:"500 personnes = sous-ensemble sÃ©lectionnÃ© = Ã©chantillon."},
{ch:1,q:"'Niveau de satisfaction : TrÃ¨s satisfait, Satisfait, Neutre, Insatisfait' est :",o:["Quantitative discrÃ¨te","Qualitative ordinale","Qualitative nominale","Quantitative continue"],c:1,e:"Il y a un ordre (satisfait > neutre > insatisfait) â†’ qualitative ordinale."},
// â”€â”€â”€ Ch.2 Tableaux de frÃ©quences â”€â”€â”€
{ch:2,q:"La frÃ©quence fáµ¢ d'une valeur xáµ¢ est :",o:["náµ¢ Ã— N","náµ¢ / N","N / náµ¢","náµ¢ âˆ’ N"],c:1,e:"fáµ¢ = effectif de xáµ¢ divisÃ© par l'effectif total N."},
{ch:2,q:"Que vaut la somme de toutes les frÃ©quences ?",o:["0","N","1","Ã‡a dÃ©pend"],c:2,e:"Î£fáµ¢ = Î£(náµ¢/N) = N/N = 1."},
{ch:2,q:"Le centre de la classe [20 ; 30[ est :",o:["20","30","25","10"],c:2,e:"Centre = (20+30)/2 = 25."},
{ch:2,q:"La frÃ©quence cumulÃ©e croissante Fáµ¢ reprÃ©sente :",o:["Le pourcentage d'une seule valeur","La somme des frÃ©quences de xâ‚ Ã  xáµ¢","L'effectif total","La valeur maximale"],c:1,e:"Fáµ¢ = fâ‚ + fâ‚‚ + â€¦ + fáµ¢, proportion d'observations â‰¤ xáµ¢."},
{ch:2,q:"E.F.C. signifie :",o:["Effectif, FrÃ©quence, CumulÃ©e","Ã‰cart, Formule, Calcul","EnquÃªte, Fiche, Courbe","Estimation, Fonction, CorrÃ©lation"],c:0,e:"MnÃ©monique des 3 colonnes d'un tableau statistique complet."},
{ch:2,q:"Dans [a ; b[, la borne b est :",o:["Incluse","Exclue","Optionnelle","Arrondie"],c:1,e:"Le crochet [ = inclus, le crochet [ inversÃ© = exclu. Ici b a un [ ouvert â†’ exclu."},
// â”€â”€â”€ Ch.3 Tendance centrale â”€â”€â”€
{ch:3,q:"M.M.M. rappelle :",o:["Min, Max, Mediane","Moyenne, MÃ©diane, Mode","Masse, Milieu, MajoritÃ©","Mesure, Module, Marge"],c:1,e:"Les 3 indicateurs de tendance centrale Ã  connaÃ®tre."},
{ch:3,q:"La moyenne pondÃ©rÃ©e Î£(xáµ¢ Ã— náµ¢) / N est sensible :",o:["Aux valeurs extrÃªmes","Aux valeurs centrales uniquement","Ã€ la mÃ©diane","Au mode"],c:0,e:"Un outlier tire la moyenne vers lui â€” elle est sensible aux extrÃªmes."},
{ch:3,q:"Si N = 11, la position de la mÃ©diane est :",o:["5","6","5,5","11"],c:1,e:"Position = (N+1)/2 = 12/2 = 6 â†’ 6e valeur dans la sÃ©rie triÃ©e."},
{ch:3,q:"Le mode d'une sÃ©rie peut Ãªtre :",o:["Unique seulement","Multiple (bimodal, trimodalâ€¦) ou inexistant","Toujours Ã©gal Ã  la mÃ©diane","NÃ©gatif"],c:1,e:"Le mode = valeur(s) la/les plus frÃ©quente(s). Peut Ãªtre multimodal ou sans mode."},
{ch:3,q:"Quelle mesure rÃ©siste le mieux aux valeurs extrÃªmes ?",o:["La moyenne","Le mode","La mÃ©diane","L'Ã©cart-type"],c:2,e:"La mÃ©diane coupe en 2 moitiÃ©s : un outlier ne change pas la position mÃ©diane."},
{ch:3,q:"Si N = 8, la mÃ©diane est :",o:["La 4e valeur","La 5e valeur","La moyenne des 4e et 5e valeurs","La moyenne des 3e et 6e valeurs"],c:2,e:"N pair â†’ Me = (xâ‚„ + xâ‚…)/2, positions N/2 et N/2+1."},
// â”€â”€â”€ Ch.4 Dispersion â”€â”€â”€
{ch:4,q:"V.Ã‰.R. rappelle :",o:["Variance, Ã‰cart-type, Racine","Valeur, Ã‰tendue, RÃ©sultat","VÃ©rification, Estimation, RÃ©sidu","Variable, Erreur, Rapport"],c:0,e:"Variance â†’ Ã‰cart-type = Racine de la variance."},
{ch:4,q:"La formule de KÃ¶nig est :",o:["ÏƒÂ² = Î£(xáµ¢âˆ’xÌ„)Â²/N","ÏƒÂ² = (Î£xáµ¢Â²/N) âˆ’ xÌ„Â²","ÏƒÂ² = Î£xáµ¢/N","ÏƒÂ² = (Î£xáµ¢)Â²/N"],c:1,e:"KÃ¶nig simplifie le calcul : ÏƒÂ² = moyenne des carrÃ©s âˆ’ carrÃ© de la moyenne."},
{ch:4,q:"L'Ã©cart-type a la mÃªme unitÃ© que :",o:["La variance","Les donnÃ©es originales","Le carrÃ© des donnÃ©es","La frÃ©quence"],c:1,e:"Ïƒ = âˆšÏƒÂ². La racine annule le carrÃ© â†’ mÃªme unitÃ© que les donnÃ©es."},
{ch:4,q:"Q1 sÃ©pare les donnÃ©es en :",o:["50% et 50%","25% infÃ©rieurs et 75% supÃ©rieurs","75% infÃ©rieurs et 25% supÃ©rieurs","10% et 90%"],c:1,e:"Q1 = premier quartile = 25% des valeurs sont en dessous."},
{ch:4,q:"L'IQR (intervalle interquartile) est :",o:["Q3 âˆ’ Q1","Q3 + Q1","Q2 âˆ’ Q1","Max âˆ’ Min"],c:0,e:"IQR = Q3 âˆ’ Q1, l'Ã©tendue des 50% centraux."},
{ch:4,q:"Une valeur est outlier si elle dÃ©passe :",o:["Q1 âˆ’ 1.5Ã—IQR ou Q3 + 1.5Ã—IQR","La moyenne","2Ã— l'Ã©cart-type","L'Ã©tendue"],c:0,e:"RÃ¨gle classique de Tukey : valeur aberrante si hors [Q1âˆ’1.5Ã—IQR ; Q3+1.5Ã—IQR]."},
// â”€â”€â”€ Ch.5 Graphiques â”€â”€â”€
{ch:5,q:"B.C.H.P. rappelle les 4 types de graphiques :",o:["Barres, Camembert, Histogramme, Polygone","Base, Courbe, Hauteur, Point","Bilan, Calcul, HypothÃ¨se, Preuve","Budget, CorrÃ©lation, HypothÃ¨se, Plan"],c:0,e:"4 graphiques principaux des statistiques descriptives."},
{ch:5,q:"Un histogramme est adaptÃ© pour des donnÃ©es :",o:["Qualitatives nominales","Quantitatives continues regroupÃ©es en classes","Quantitatives discrÃ¨tes","Toutes les donnÃ©es"],c:1,e:"Histogramme = barres collÃ©es pour des classes continues [a;b[."},
{ch:5,q:"L'angle dans un diagramme circulaire se calcule par :",o:["frÃ©quence Ã— 360Â°","effectif Ã— 100","frÃ©quence Ã— 180Â°","effectif Ã— 360Â°"],c:0,e:"Angle = fáµ¢ Ã— 360Â°. Ex: 25% = 0.25 Ã— 360 = 90Â°."},
{ch:5,q:"L'ogive (courbe cumulÃ©e) sert Ã  lire :",o:["La moyenne","La mÃ©diane et les quartiles","Le mode","L'Ã©cart-type"],c:1,e:"On lit la mÃ©diane Ã  F = 0.5 et les quartiles Ã  F = 0.25 / 0.75 sur l'ogive."},
{ch:5,q:"Un diagramme en barres est adaptÃ© pour des donnÃ©es :",o:["Quantitatives continues","Qualitatives ou quantitatives discrÃ¨tes","Uniquement qualitatives ordinales","Uniquement quantitatives"],c:1,e:"Barres sÃ©parÃ©es conviennent aux donnÃ©es discrÃ¨tes ou qualitatives, chaque barre = une modalitÃ©."},
// â”€â”€â”€ Ch.6 CorrÃ©lation â”€â”€â”€
{ch:6,q:"Le coefficient r varie entre :",o:["-âˆ et +âˆ","0 et 1","-1 et +1","0 et +âˆ"],c:2,e:"r âˆˆ [âˆ’1 ; +1]. Plus |r| est proche de 1, plus la corrÃ©lation est forte."},
{ch:6,q:"|r| < 0.3 indique :",o:["Forte corrÃ©lation","CorrÃ©lation modÃ©rÃ©e","CorrÃ©lation faible ou nulle","CorrÃ©lation parfaite"],c:2,e:"Faible corrÃ©lation. Les points du nuage sont trÃ¨s dispersÃ©s."},
{ch:6,q:"La droite de rÃ©gression passe toujours par :",o:["L'origine (0,0)","Le point (xÌ„, È³)","Le point (Q1, Q3)","Aucun point fixe"],c:1,e:"Y = aX + b avec b = È³ âˆ’ axÌ„, donc le point moyen (xÌ„,È³) est toujours sur la droite."},
{ch:6,q:"CorrÃ©lation Ã©levÃ©e implique causalitÃ© ?",o:["Toujours","Jamais","Pas forcÃ©ment","Seulement si r > 0.9"],c:2,e:"CorrÃ©lation â‰  causalitÃ© ! Il peut y avoir un facteur confondant ou une coÃ¯ncidence."},
{ch:6,q:"a = Cov(X,Y) / Var(X) est :",o:["L'ordonnÃ©e Ã  l'origine","Le coefficient directeur de la droite","Le coefficient de corrÃ©lation","La variance de Y"],c:1,e:"a = pente de la droite de rÃ©gression linÃ©aire Y = aX + b."},
{ch:6,q:"Cov(X,Y) = E(XY) âˆ’ E(X)E(Y). Si Cov = 0 :",o:["X et Y sont indÃ©pendantes","X et Y ne sont pas linÃ©airement corrÃ©lÃ©es","X et Y sont opposÃ©es","r = 1"],c:1,e:"Cov = 0 signifie absence de corrÃ©lation linÃ©aire, pas forcÃ©ment indÃ©pendance."}
];
let quiz=[],current=0,answers=[],timerID,timeLeft;
function shuffle(a){for(let i=a.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[a[i],a[j]]=[a[j],a[i]];}return a;}
function startQuiz(){
    const n=+document.getElementById('qCount').value,ch=document.getElementById('qChapter').value,t=+document.getElementById('qTime').value;
    let pool=ch==='all'?[...BANK]:BANK.filter(q=>q.ch===+ch);
    quiz=shuffle(pool).slice(0,n);answers=new Array(quiz.length).fill(-1);current=0;timeLeft=t*60;
    document.getElementById('config-panel').style.display='none';
    document.getElementById('results-area').style.display='none';
    const area=document.getElementById('quiz-area');area.style.display='block';
    renderQ();startTimer();
}
function startTimer(){clearInterval(timerID);timerID=setInterval(()=>{timeLeft--;if(timeLeft<=0){clearInterval(timerID);finishQuiz();}renderQ();},1000);}
function fmtTime(s){const m=Math.floor(s/60);return m+':'+(s%60<10?'0':'')+(s%60);}
function renderQ(){
    const area=document.getElementById('quiz-area'),q=quiz[current],pct=((current+1)/quiz.length*100).toFixed(0);
    const answered=answers[current]>=0;
    area.innerHTML=`<div class="quiz-header"><span>Question ${current+1}/${quiz.length}</span><span class="timer"><i class="fas fa-clock"></i> ${fmtTime(timeLeft)}</span></div><div class="progress-bar-bg"><div class="progress-bar-fill" style="width:${pct}%"></div></div><div class="q-card"><h3>${q.q}</h3><div class="q-options">${q.o.map((o,i)=>{let cls='q-option';if(answered){if(i===q.c)cls+=' correct';if(i===answers[current]&&i!==q.c)cls+=' wrong';if(i===answers[current])cls+=' selected';}else if(i===answers[current])cls+=' selected';return`<div class="${cls}" ${answered?'':`onclick="pickAnswer(${i})"`}>${o}</div>`;}).join('')}</div>${answered?`<div class="q-explanation" style="display:block"><strong>ğŸ’¡ Explication :</strong> ${q.e}</div>`:''}</div><div class="q-nav">${current>0?`<button class="btn-prev" onclick="current--;renderQ()"><i class="fas fa-arrow-left"></i> PrÃ©cÃ©dente</button>`:''}<button class="btn-next" onclick="${current<quiz.length-1?'current++;renderQ()':'finishQuiz()'}">${current<quiz.length-1?'Suivante <i class="fas fa-arrow-right"></i>':'Terminer <i class="fas fa-flag-checkered"></i>'}</button></div>`;
}
function pickAnswer(i){answers[current]=i;renderQ();}
function finishQuiz(){
    clearInterval(timerID);document.getElementById('quiz-area').style.display='none';
    const correct=quiz.reduce((s,q,i)=>s+(answers[i]===q.c?1:0),0),pct=Math.round(correct/quiz.length*100);
    let msg=pct>=90?'ğŸ† Excellent !':pct>=70?'ğŸ‘ Bien jouÃ© !':pct>=50?'ğŸ“ˆ Pas mal, continue !':'ğŸ“š RÃ©vise les chapitres !';
    document.getElementById('results-area').innerHTML=`<div class="results-card"><h2>${msg}</h2><div class="results-score">${pct}%</div><div class="results-bar"><div class="results-fill" style="width:${pct}%"></div></div><div class="results-details"><span>${correct}/${quiz.length} bonnes rÃ©ponses</span></div><button class="btn-restart" onclick="location.reload()"><i class="fas fa-redo"></i> Recommencer</button></div>`;
    document.getElementById('results-area').style.display='block';
}
</script>

<div class="xp-bar-container">
    <span class="xp-level">DÃ©butant</span>
    <div class="xp-bar"><div class="xp-bar-fill" style="width:0%"></div></div>
    <span class="xp-text">0 XP</span>
</div>
<script src="../../assets/js/gamification.js"></script>
<script>GameEngine.configure({storageKey:'b1_stats_progress'});GameEngine.init();</script>
<script src="../../assets/js/error-tracking.js"></script>
<script>ErrorTracker.configure('b1_stats_progress');</script>
<script>document.addEventListener("DOMContentLoaded",function(){if(typeof ErrorTracker!=="undefined"&&typeof bank!=="undefined"){ErrorTracker.enhance()}});</script>
</body>
</html>
